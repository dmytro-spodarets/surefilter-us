# TODO & Roadmap - Sure Filter US

## üöÄ High Priority

### FilterType.category Migration to ProductCategory Relation
**–ü—Ä–æ–±–ª–µ–º–∞:** `FilterType` –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π enum `category` –≤–º–µ—Å—Ç–æ relation –∫ `ProductCategory`. –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç TypeScript –æ—à–∏–±–∫–∏ –∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å –Ω–æ–≤–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º–æ–π.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `category` –≤ 3 —Ñ–∞–π–ª–∞—Ö
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `fullSlug`/`pageSlug` pattern
- ‚ö†Ô∏è `typescript.ignoreBuildErrors: true` –≤ `next.config.ts`

**–†–µ—à–µ–Ω–∏–µ:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å `categoryId String?` –≤ –º–æ–¥–µ–ª—å `FilterType`
- [ ] –°–æ–∑–¥–∞—Ç—å relation `category ProductCategory? @relation(fields: [categoryId], references: [id])`
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (enum ‚Üí relation)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å 3 —Ñ–∞–π–ª–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è relation:
  - `src/app/api/admin/filter-types/route.ts`
  - `src/components/sections/FilterTypesCms.tsx`
  - `src/app/admin/filter-types/page.tsx`
- [ ] –£–±—Ä–∞—Ç—å `typescript.ignoreBuildErrors` –∏–∑ `next.config.ts`

**–§–∞–π–ª—ã —Å TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏:**
```typescript
// TODO: Update to use ProductCategory relation instead of enum
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High (–±–ª–æ–∫–∏—Ä—É–µ—Ç —á–∏—Å—Ç—ã–π build)
**–û—Ü–µ–Ω–∫–∞:** 2-3 —á–∞—Å–∞

---

### Image Optimization
**–ü—Ä–æ–±–ª–µ–º–∞:** Next.js –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ, —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∏ –∏–Ω–æ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "Image not found".

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤ File Manager
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `sharp` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É `/src/lib/image-optimizer.ts` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:
  - Thumbnail: 320px
  - Medium: 768px
  - Large: 1920px
  - Original: –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ WebP –¥–ª—è –ª—É—á—à–µ–≥–æ —Å–∂–∞—Ç–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ File Manager API (`/api/admin/file-manager/upload`)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `ManagedImage` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å `unoptimized: true` –≤ `next.config.ts` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å CloudFront cache policy –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)
- ‚úÖ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ App Runner
- ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ù–µ—Ç "Image not found" –∏–∑-–∑–∞ timeout –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High
**–û—Ü–µ–Ω–∫–∞:** 4-6 —á–∞—Å–æ–≤

---

## üìù Medium Priority

### Site Settings Cache Improvements
- [x] –£–º–µ–Ω—å—à–µ–Ω –∫—ç—à —Å 5 –º–∏–Ω—É—Ç –¥–æ 1 –º–∏–Ω—É—Ç—ã
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `clearSiteSettingsCache()` –¥–ª—è —Å–±—Ä–æ—Å–∞ –∫—ç—à–∞
- [x] –ö—ç—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —á–µ—Ä–µ–∑ API

### CloudFront Error Caching
- [x] –î–æ–±–∞–≤–ª–µ–Ω `custom_error_response` –¥–ª—è 404/403 –æ—à–∏–±–æ–∫ (–∫—ç—à 10 —Å–µ–∫—É–Ω–¥)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 404 –æ—à–∏–±–æ–∫ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏

---

## üîß Low Priority / Future Improvements

### Performance
- [ ] –î–æ–±–∞–≤–∏—Ç—å Service Worker –¥–ª—è offline –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Progressive Web App (PWA)
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle size (code splitting)

### SEO
- [ ] –î–æ–±–∞–≤–∏—Ç—å structured data (JSON-LD) –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- [ ] –£–ª—É—á—à–∏—Ç—å meta-—Ç–µ–≥–∏ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å sitemap.xml –≥–µ–Ω–µ—Ä–∞—Ü–∏—é

### Analytics
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Google Analytics 4
- [ ] –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–π
- [ ] Heat maps –¥–ª—è UX –∞–Ω–∞–ª–∏–∑–∞

### Security
- [ ] –î–æ–±–∞–≤–∏—Ç—å rate limiting –¥–ª—è API
- [ ] –£–ª—É—á—à–∏—Ç—å CORS –ø–æ–ª–∏—Ç–∏–∫—É
- [ ] –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## ‚úÖ Completed

### Refactoring & Cleanup
- [x] –£–±—Ä–∞–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–æ–¥–∞
- [x] –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å –±–µ—Ä—É—Ç—Å—è –∏–∑ –ë–î
- [x] –î–æ–±–∞–≤–∏–ª–∏ `dynamic = 'force-dynamic'` –≤ root layout
- [x] –£–±—Ä–∞–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `export const dynamic` –∏–∑ 9 —Å—Ç—Ä–∞–Ω–∏—Ü
- [x] –£–¥–∞–ª–∏–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `/app/(public)/page.tsx`
- [x] –£–±—Ä–∞–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ fallback –¥–∞–Ω–Ω—ã–µ –∏–∑ Footer.tsx
- [x] –ò—Å–ø—Ä–∞–≤–∏–ª–∏ –∏–∫–æ–Ω–∫–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π –≤ Footer
- [x] –î–æ–±–∞–≤–∏–ª–∏ TikTok –≤ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–æ—Ü —Å–µ—Ç–µ–π –≤ –∞–¥–º–∏–Ω–∫–µ

### Build & Deployment
- [x] –ò—Å–ø—Ä–∞–≤–∏–ª–∏ Docker build –±–µ–∑ DATABASE_URL
- [x] –£–±—Ä–∞–ª–∏ placeholder DATABASE_URL –∏–∑ Dockerfile
- [x] Build –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–∏—Å—Ç–æ –±–µ–∑ warnings

### Prisma 7 Migration (2025-12-07)
- [x] –û–±–Ω–æ–≤–∏–ª–∏ Node.js –¥–æ v20.19.6 (latest LTS 20.x)
- [x] –û–±–Ω–æ–≤–∏–ª–∏ Prisma –¥–æ 7.1.0
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ @prisma/adapter-pg –∏ pg
- [x] –°–æ–∑–¥–∞–ª–∏ prisma.config.ts –¥–ª—è CLI –æ–ø–µ—Ä–∞—Ü–∏–π
- [x] –£–±—Ä–∞–ª–∏ url –∏–∑ schema.prisma datasource
- [x] –ü–µ—Ä–µ–ø–∏—Å–∞–ª–∏ lib/prisma.ts —Å PrismaPg adapter
- [x] –û–±–Ω–æ–≤–∏–ª–∏ next.config.ts (serverExternalPackages, webpack)
- [x] –û–±–Ω–æ–≤–∏–ª–∏ 8 API routes –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è shared prisma instance
- [x] –ò—Å–ø—Ä–∞–≤–∏–ª–∏ TypeScript –æ—à–∏–±–∫–∏ (Next.js 15 params Promise)
- [x] –û–±–Ω–æ–≤–∏–ª–∏ Dockerfile –¥–ª—è Prisma 7
- [x] –û–±–Ω–æ–≤–∏–ª–∏ GitHub Actions workflow (db-migrate.yml)
- [x] –°–æ–∑–¥–∞–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é PRISMA_7_MIGRATION.md
- [x] –û–±–Ω–æ–≤–∏–ª–∏ README.md –∏ CHANGELOG.md

---

## üìö Documentation Needed
- [ ] API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è File Manager
- [ ] –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö —Å–µ–∫—Ü–∏–π –≤ CMS
- [ ] Deployment guide –¥–ª—è production
- [ ] Environment variables –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 7 –¥–µ–∫–∞–±—Ä—è 2025
